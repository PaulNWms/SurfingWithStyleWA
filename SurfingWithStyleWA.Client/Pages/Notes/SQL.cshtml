@page "/notes/sql"

<h1>SQL</h1>

<pre class="kaypro10">Query steps:
1. Cartesian product (cross join)
2. apply the ON filter (join condition)
3. add outer rows
4. apply the WHERE filter
5. GROUP
6. apply CUBE or ROLLUP
7. apply the HAVING filter
8. process the SELECT list
9. apply the DISTINCT clause
10. apply the ORDER BY clause
11. apply the TOP operation

Three-valued logic in SQL means values can be TRUE, FALSE, or UNKNOWN (e.g. NULL > 0).  

UNKNOWN is treated as FALSE in ON, WHERE and HAVING filters.
UNKNOWN is treated as TRUE in in check constraints.

A GROUP BY clause groups all NULLs in one group.
An ORDER BY clause sorts all NULLs together.

You can't use aggregate filters in a WHERE condition because the data hasn't been grouped yet.
</pre>